
/* Custom animations and transitions */

/* Page transitions */
.page-enter {
  opacity: 0;
  transform: translateX(20px);
}

.page-enter-active {
  opacity: 1;
  transform: translateX(0);
  transition: opacity 300ms ease-out, transform 300ms ease-out;
}

.page-exit {
  opacity: 1;
  transform: translateX(0);
}

.page-exit-active {
  opacity: 0;
  transform: translateX(-20px);
  transition: opacity 300ms ease-out, transform 300ms ease-out;
}

/* Loading states */
.loading-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Skeleton loading */
.skeleton {
  @apply bg-text-secondary/20 animate-pulse rounded;
}

/* Smooth scroll with safe area bounce-through support */
html {
  scroll-behavior: smooth;
  /* Ensure overscroll behavior maintains safe area */
  overscroll-behavior-y: contain;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Enhanced bounce-through support for iOS */
@supports (-webkit-touch-callout: none) {
  /* iOS specific styles */
  html {
    /* Allow bounce but maintain safe area calculations */
    overscroll-behavior-y: auto;
  }
  
  body {
    /* Ensure body maintains proper positioning during bounce */
    position: relative;
    min-height: 100vh;
    /* Prevent safe area collapse during overscroll */
    min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
  }
}

/* Card hover animations */
.card-hover-lift {
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
}

.card-hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px hsl(var(--shadow-hard) / 0.15);
}

/* CRT Effect - Prevent scroll interference */
body.crt-active {
  overflow: hidden !important;
  position: fixed !important;
  width: 100% !important;
  height: 100% !important;
}

/* Safe area reflow animations */
@keyframes safeAreaReflow {
  0% { 
    transform: translateZ(0);
  }
  100% { 
    transform: translateZ(0);
  }
}

.safe-area-reflow {
  animation: safeAreaReflow 0.1s ease-out;
}
